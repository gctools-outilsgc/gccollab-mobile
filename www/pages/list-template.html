<template>
    <div class="page navbar-fixed with-subnavbar">
    <div class="navbar">
        <div class="navbar-inner">
            <div id="{{page}}-navbar-inner" class="navbar-inner" role="navigation" data-translate-target="aria-label" data-translate="navigation-bar">
                {{navbar}}
            </div>
            <div class="subnavbar" role="navigation" data-translate-target="aria-label">
                <div class="subnavbar-inner">
                    {{#each tabs}}
                    <a href="#tab-{{this.id}}" class="button {{#if @first}}tab-link-active{{/if}} tab-link" data-translate="{{this.name}}"></a>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
    <div class="toolbar toolbar-bottom-md">
        <div class="toolbar-inner">
            <div class="left sliding"><a href="#" class="link back" aria-label="Back Button"><i class="far fa-arrow-alt-circle-left fa-2x"></i></a></div>
            <div class="right sliding"><a id="home-actions" href="#" class="link open-popover" data-popover=".popover-actions" aria-label="Create a new Post Menu Options"><i class="fa fa-plus fa-2x"></i></a></div>
        </div>
    </div>

    <div class="page with-subnavbar" style="overflow-x: hidden;">
        <div class="tabs">
            {{#each tabs}}
            <div id="tab-{{this.id}}" class="page-content tab {{#if @first}}tab-active{{/if}}">
                <div id="content-{{this.id}}" class="context"></div>
                <a id="more-{{this.id}}" class="button button-big button-fill" data-translate="view-more">VIEW MORE</a>
            </div>
            {{/each}}
        </div>
    </div>
        </div>
</template>
<style>
    p {
        margin: 10px 0;
    }
</style>
<script>
    return {
        // Lifecycle Hooks
        beforeCreate() {
            console.log('componentBeforeCreate', this)
        },
        created() {
            console.log('componentCreated', this)
        },
        beforeMount() {
            console.log('componentBeforeMount', this)
        },
        mounted() {
            console.log('componentMounted', this);
        },
        beforeDestroy() {
            console.log('componentBeforeDestroy', this);
        },
        destroyed() {
            console.log('componentDestroyed', this);
        },
        // Component Data
        data: function () {
            
            // Must return an object
            
            return {
            }
        },
        // Component Methods
        methods: {
            openAlert: function () {
                var self = this;
                self.$app.dialog.alert('Hello World');
            },
        },
        // Page Events
        on: {
            pageMounted: function (e, page) {
                console.log('pageMounted', page);
            },
            pageInit: function (e, page) {
                console.log('pageInit', page);
                this.tabs[0].request(this.tabs[0]); //load first tab, which is active tab
                this.tabs.forEach(function (tab) {
                    $$('#more-' + tab.id).on('click', function (e) {
                        $('#focus-' + tab.id).remove();
                        tab.request(tab);
                    });
                });
            },
            pageBeforeIn: function (e, page) {
                console.log('pageBeforeIn', page);
            },
            pageAfterIn: function (e, page) {
                console.log('pageAfterIn', page);
            },
            pageBeforeOut: function (e, page) {
                console.log('pageBeforeOut', page);
            },
            pageAfterOut: function (e, page) {
                console.log('pageAfterOut', page);
            },
            pageBeforeRemove: function (e, page) {
                console.log('pageBeforeRemove', page);
            },
        }
    }
</script>